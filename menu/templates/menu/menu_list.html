{% extends 'base.html' %}

{% block title %}Menu{% endblock %}
{% load static %}

<link rel="stylesheet" href="{% static 'menu/css/menu.css' %}">
{% block extra_css %}{% endblock %}

{% block content %}
<div class="menu-container">
  <h1 class="text-center mb-4">Our Menu</h1>

  {% if categories %}
    {% for category in categories %}
      <section class="menu-category">
        <h2>{{ category.name }}</h2>
        <div class="menu-grid">
          {% for item in category.items.all %}
            {% if item.is_active %}
              <article class="menu-item">
                <a href="{{ item.get_absolute_url }}">
                  {% if item.image %}
                    <img src="{{ item.image.url }}" alt="{{ item.name }}" class="menu-thumb"/>
                  {% else %}
                    <img src="{% static 'menu/images/placeholder-food.svg' %}" alt="No image" class="menu-thumb"/>
                  {% endif %}
                  <h3>{{ item.name }}</h3>
                </a>
                <p class="price">â‚¬{{ item.price }}</p>
                <p class="desc">{{ item.description|truncatechars:100 }}</p>
              </article>
            {% endif %}
          {% endfor %}
        </div>
      </section>
    {% endfor %}
  {% else %}
    <p>No menu categories available.</p>
  {% endif %}
</div>
{% endblock %}
